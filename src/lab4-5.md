# 小结

本章我们的工作有：

- 理清线程和进程的概念
- 通过设置 `Context`，可以构造一个线程的初始状态
- 通过 `__restore` 标签，直接进入第一个线程之中
- 用 `Context` 来保存进程的状态，从而实现在时钟中断时切换线程
- 实现内核栈，提供安全的中断处理空间
- 实现调度器，完成线程的调度

同时，可以发现我们这一章的内容集中在内核线程上面，对用户进程还没有过多的提及。而为了让用户进程可以在我们的系统上运行起来，一个优美的做法将会是隔开用户程序和内核。需要注意到现在的内核还直接放在了内存上，在下一个章节，我们暂时跳过用户进程，实现可以放置用户数据的文件系统。

本章的完整代码你可以在仓库`代码\lab4`中找到